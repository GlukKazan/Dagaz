(define step (
  $1 (verify empty?)
  add
))

(game
  (title "Turnover")

  (option "animate captures"  false)
  (option "smart moves"       false)

  (players Gold Silver)
  (turn-order Gold Silver)

  (move-sound "Audio\Pickup.wav")
  (release-sound "Audio\Pickup.wav")
  (capture-sound "")
  (drop-sound "")

  (board
     (image "images/turnover/board.bmp")
     (positions
             (a8b  24  26  86  88)
             (a7b  24  95  86 157)
             (a6b  24 164  86 226)
             (a5b  24 233  86 295)
             (a4b  24 302  86 364)
             (a3b  24 371  86 433)
             (a2b  24 440  86 502)
             (a1b  24 509  86 571)
             (b8b  93  26 155  88)
             (b7b  93  95 155 157)
             (b6b  93 164 155 226)
             (b5b  93 233 155 295)
             (b4b  93 302 155 364)
             (b3b  93 371 155 433)
             (b2b  93 440 155 502)
             (b1b  93 509 155 571)
             (c8b 162  26 224  88)
             (c7b 162  95 224 157)
             (c6b 162 164 224 226)
             (c5b 162 233 224 295)
             (c4b 162 302 224 364)
             (c3b 162 371 224 433)
             (c2b 162 440 224 502)
             (c1b 162 509 224 571)
             (d8b 231  26 293  88)
             (d7b 231  95 293 157)
             (d6b 231 164 293 226)
             (d5b 231 233 293 295)
             (d4b 231 302 293 364)
             (d3b 231 371 293 433)
             (d2b 231 440 293 502)
             (d1b 231 509 293 571)
             (e8b 300  26 362  88)
             (e7b 300  95 362 157)
             (e6b 300 164 362 226)
             (e5b 300 233 362 295)
             (e4b 300 302 362 364)
             (e3b 300 371 362 433)
             (e2b 300 440 362 502)
             (e1b 300 509 362 571)
             (f8b 369  26 431  88)
             (f7b 369  95 431 157)
             (f6b 369 164 431 226)
             (f5b 369 233 431 295)
             (f4b 369 302 431 364)
             (f3b 369 371 431 433)
             (f2b 369 440 431 502)
             (f1b 369 509 431 571)
             (g8b 438  26 500  88)
             (g7b 438  95 500 157)
             (g6b 438 164 500 226)
             (g5b 438 233 500 295)
             (g4b 438 302 500 364)
             (g3b 438 371 500 433)
             (g2b 438 440 500 502)
             (g1b 438 509 500 571)
             (h8b 507  26 569  88)
             (h7b 507  95 569 157)
             (h6b 507 164 569 226)
             (h5b 507 233 569 295)
             (h4b 507 302 569 364)
             (h3b 507 371 569 433)
             (h2b 507 440 569 502)
             (h1b 507 509 569 571)

             (a8s  34  36  76  78)
             (a7s  34 105  76 147)
             (a6s  34 174  76 216)
             (a5s  34 243  76 285)
             (a4s  34 312  76 354)
             (a3s  34 381  76 423)
             (a2s  34 450  76 492)
             (a1s  34 519  76 561)
             (b8s 103  36 145  78)
             (b7s 103 105 145 147)
             (b6s 103 174 145 216)
             (b5s 103 243 145 285)
             (b4s 103 312 145 354)
             (b3s 103 381 145 423)
             (b2s 103 450 145 492)
             (b1s 103 519 145 561)
             (c8s 172  36 214  78)
             (c7s 172 105 214 147)
             (c6s 172 174 214 216)
             (c5s 172 243 214 285)
             (c4s 172 312 214 354)
             (c3s 172 381 214 423)
             (c2s 172 450 214 492)
             (c1s 172 519 214 561)
             (d8s 241  36 283  78)
             (d7s 241 105 283 147)
             (d6s 241 174 283 216)
             (d5s 241 243 283 285)
             (d4s 241 312 283 354)
             (d3s 241 381 283 423)
             (d2s 241 450 283 492)
             (d1s 241 519 283 561)
             (e8s 310  36 352  78)
             (e7s 310 105 352 147)
             (e6s 310 174 352 216)
             (e5s 310 243 352 285)
             (e4s 310 312 352 354)
             (e3s 310 381 352 423)
             (e2s 310 450 352 492)
             (e1s 310 519 352 561)
             (f8s 379  36 421  78)
             (f7s 379 105 421 147)
             (f6s 379 174 421 216)
             (f5s 379 243 421 285)
             (f4s 379 312 421 354)
             (f3s 379 381 421 423)
             (f2s 379 450 421 492)
             (f1s 379 519 421 561)
             (g8s 448  36 490  78)
             (g7s 448 105 490 147)
             (g6s 448 174 490 216)
             (g5s 448 243 490 285)
             (g4s 448 312 490 354)
             (g3s 448 381 490 423)
             (g2s 448 450 490 492)
             (g1s 448 519 490 561)
             (h8s 517  36 559  78)
             (h7s 517 105 559 147)
             (h6s 517 174 559 216)
             (h5s 517 243 559 285)
             (h4s 517 312 559 354)
             (h3s 517 381 559 423)
             (h2s 517 450 559 492)
             (h1s 517 519 559 561)
 
             (a8t  44  46  66  68)
             (a7t  44 115  66 137)
             (a6t  44 184  66 206)
             (a5t  44 253  66 275)
             (a4t  44 322  66 344)
             (a3t  44 391  66 413)
             (a2t  44 460  66 482)
             (a1t  44 529  66 551)
             (b8t 113  46 135  68)
             (b7t 113 115 135 137)
             (b6t 113 184 135 206)
             (b5t 113 253 135 275)
             (b4t 113 322 135 344)
             (b3t 113 391 135 413)
             (b2t 113 460 135 482)
             (b1t 113 529 135 551)
             (c8t 182  46 204  68)
             (c7t 182 115 204 137)
             (c6t 182 184 204 206)
             (c5t 182 253 204 275)
             (c4t 182 322 204 344)
             (c3t 182 391 204 413)
             (c2t 182 460 204 482)
             (c1t 182 529 204 551)
             (d8t 251  46 273  68)
             (d7t 251 115 273 137)
             (d6t 251 184 273 206)
             (d5t 251 253 273 275)
             (d4t 251 322 273 344)
             (d3t 251 391 273 413)
             (d2t 251 460 273 482)
             (d1t 251 529 273 551)
             (e8t 320  46 342  68)
             (e7t 320 115 342 137)
             (e6t 320 184 342 206)
             (e5t 320 253 342 275)
             (e4t 320 322 342 344)
             (e3t 320 391 342 413)
             (e2t 320 460 342 482)
             (e1t 320 529 342 551)
             (f8t 389  46 411  68)
             (f7t 389 115 411 137)
             (f6t 389 184 411 206)
             (f5t 389 253 411 275)
             (f4t 389 322 411 344)
             (f3t 389 391 411 413)
             (f2t 389 460 411 482)
             (f1t 389 529 411 551)
             (g8t 458  46 480  68)
             (g7t 458 115 480 137)
             (g6t 458 184 480 206)
             (g5t 458 253 480 275)
             (g4t 458 322 480 344)
             (g3t 458 391 480 413)
             (g2t 458 460 480 482)
             (g1t 458 529 480 551)
             (h8t 527  46 549  68)
             (h7t 527 115 549 137)
             (h6t 527 184 549 206)
             (h5t 527 253 549 275)
             (h4t 527 322 549 344)
             (h3t 527 391 549 413)
             (h2t 527 460 549 482)
             (h1t 527 529 549 551)
    )
     (links n 
         (a1 a2)
     )
     (links e
         (a1 b1)
     )
     (links w
         (b1 a1)
     )
     (links s
         (a2 a1)
     )
     (links nw
         (b2 a1)
     )
     (links ne
         (a1 b2)
     )
     (links sw
         (b1 a2)
     )
     (links se
         (a2 b1)
     )
     (symmetry Silver (n s) (s n) (nw sw) (sw nw) (ne se) (se ne) (w w) (e e))
     (zone (name last-rank) (players Gold)
           (positions a8b b8b c8b d8b e8b f8b g8b h8b)
     )
     (zone (name last-rank) (players Silver)
           (positions a1b b1b c1b d1b e1b f1b g1b h1b)
     )
  )

  (piece
     (name Pawn)
     (image Gold "images/turnover/wb.bmp"
            Silver "images/turnover/bb.bmp")
     (moves
         (step n) (step nw)
         (step e) (step ne)
         (step w) (step sw)
         (step s) (step se)
     )
  )
  (piece
     (name Bishop)
     (image Gold "images/turnover/ws.bmp"
            Silver "images/turnover/bs.bmp")
  )
  (piece
     (name Rook)
     (image Gold "images/turnover/wt.bmp"
            Silver "images/turnover/bt.bmp")
  )

  (board-setup
     (Gold
         (Pawn a1b b1b c1b d1b e1b f1b g1b h1b)
         (Bishop a1s b1s c1s d1s e1s f1s g1s h1s)
         (Rook a1t b1t c1t d1t e1t f1t g1t h1t)
     )
     (Silver
         (Pawn a8b b8b c8b d8b e8b f8b g8b h8b)
         (Bishop a8s b8s c8s d8s e8s f8s g8s h8s)
         (Rook a8t b8t c8t d8t e8t f8t g8t h8t)
     )
  )
)
